<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>MapR on Azure | Benjamin Guinebertière&#39;s blog (@benjguin)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="IntroductionThere are different ways to install Hadoop on Azure. The blog post about the different flavors of Hadoop will provide more context.
This blog post shows the main steps to start with MapR o">
<meta property="og:type" content="article">
<meta property="og:title" content="MapR on Azure">
<meta property="og:url" content="http://blog.3-4.fr/2015/12/02/mapr-on-azure/index.html">
<meta property="og:site_name" content="Benjamin Guinebertière's blog (@benjguin)">
<meta property="og:description" content="IntroductionThere are different ways to install Hadoop on Azure. The blog post about the different flavors of Hadoop will provide more context.
This blog post shows the main steps to start with MapR o">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/1.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/2.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/3.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/4.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/4b.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/5.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/6.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/7.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/8.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/9.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/10.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/11.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/12.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/13.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/14.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/15.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/16.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/17.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/18.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/19.png">
<meta property="og:image" content="http://blog.3-4.fr/images/151202b/20.png">
<meta property="og:updated_time" content="2016-07-06T12:27:13.830Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="MapR on Azure">
<meta name="twitter:description" content="IntroductionThere are different ways to install Hadoop on Azure. The blog post about the different flavors of Hadoop will provide more context.
This blog post shows the main steps to start with MapR o">
<meta name="twitter:image" content="http://blog.3-4.fr/images/151202b/1.png">
  
    <link rel="alternate" href="/atom.xml" title="Benjamin Guinebertière&#39;s blog (@benjguin)" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  <script type='text/javascript' src='/js/tag.js'></script>
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Benjamin Guinebertière&#39;s blog (@benjguin)</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://blog.3-4.fr"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-2015/12/02/mapr-on-azure" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/12/02/mapr-on-azure/" class="article-date">
  <time datetime="2015-12-01T23:00:00.000Z" itemprop="datePublished">2015-12-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      MapR on Azure
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>There are different ways to install Hadoop on Azure. The blog post about the <a href="/2015/12/02a/different-flavors-of-hadoop.html">different flavors of Hadoop</a> will provide more context.</p>
<p>This blog post shows the main steps to start with MapR on Azure. </p>
<h2 id="How-to"><a href="#How-to" class="headerlink" title="How to"></a>How to</h2><p>In order to install the cluster, follow the wizzard that you’ll find in <a href="https://portal.azure.com" target="_blank" rel="external">Azure portal</a>.</p>
<p>Here is a quick view of this wizzard: </p>
<p><img src="/images/151202b/1.png" alt=""></p>
<p><img src="/images/151202b/2.png" alt=""></p>
<p><img src="/images/151202b/3.png" alt=""></p>
<p><img src="/images/151202b/4.png" alt=""></p>
<p><img src="/images/151202b/4b.png" alt=""></p>
<p>Step 3 gives you a chance to download the generated Azure resource manager wizzard that you can modify and deploy as described in the following article: <a href="https://azure.microsoft.com/en-us/documentation/articles/resource-group-template-deploy/" target="_blank" rel="external">Deploy an application with Azure Resource Manager template</a>.</p>
<p><img src="/images/151202b/5.png" alt=""></p>
<p>Once you’ve created the cluster, go to <code>https://{yourclustername}-node0.{install-location}.cloudapp.azure.com:9443</code> and connect.</p>
<p>In my case, I named the cluster <code>mapr34</code> and installed it in North Europe region, so it is <code>https://mapr34-node0.northeurope.cloudapp.azure.com:9443</code>.</p>
<p>NB: this <code>mapr34-node0.northeurope.cloudapp.azure.com</code>host name can be found in the portal when you browse the resource group where the cluster is. It’s attached to the public IP of the node.</p>
<p><img src="/images/151202b/6.png" alt=""></p>
<p>Use mapr as the username and the password you provided in step 2 of the wizzard as the password.</p>
<p><img src="/images/151202b/7.png" alt=""></p>
<p>Select each node and check the disks where you want to install the distributed file system.<br>/dev/sdb1 is the cache disk. The 1023 GB disks are VHDs.</p>
<p>Use the Next button to move on </p>
<p><img src="/images/151202b/8.png" alt=""></p>
<p>Click <code>Install -&gt;</code> to start the installation process.</p>
<p><img src="/images/151202b/9.png" alt=""></p>
<p><img src="/images/151202b/10.png" alt=""></p>
<p>After a number of minutes, the installation completes. </p>
<p><img src="/images/151202b/11.png" alt=""></p>
<p><img src="/images/151202b/12.png" alt=""></p>
<p>On the final step, you can find a link to a short name. Unless you’ve created an SSH tunnel to your cluster, you may need to use the long name instead. In this example where my cluster is called <code>mapr34</code> and is installed in North Europe, the URL is <code>https://mapr34node1:8443/</code>. I replace it by <code>https://mapr34-node1.northeurope.cloudapp.azure.com:8443</code>. </p>
<p>NB: this <code>mapr34-node1.northeurope.cloudapp.azure.com</code>host name can be found in the portal when you browse the resource group where the cluster is. It’s attached to the public IP of the node. </p>
<p><img src="/images/151202b/13.png" alt=""></p>
<p>ypou connect with the same credentials as before: mapr/{the password you provided in step 2 of the creation wizzard}.</p>
<p><img src="/images/151202b/14.png" alt=""></p>
<p>Now that the MapR file system is installed. Let’s see it as HDFS. Let’s also check if we can access Azure blob storage.</p>
<p><img src="/images/151202b/15.png" alt=""></p>
<p>The <code>wasb</code> driver (wasb stands for Windows Azure Storage Blob) is not installed by default :-( .  </p>
<p><img src="/images/151202b/16.png" alt=""></p>
<p><img src="/images/151202b/17.png" alt=""></p>
<p>If you go back to the installation page you’ll have the option to install additional services: </p>
<p><img src="/images/151202b/18.png" alt=""></p>
<p>When you’re done, you can stop the services, before shutting down the Azure virtual machines. If there are many nodes, you may want to use Azure PowerShell module or Azure Command Line Interface (Azure CLI). You can find them in the resources section of <a href="http://azure.com" target="_blank" rel="external">azure.com</a>. </p>
<p><img src="/images/151202b/19.png" alt=""></p>
<p>You may also prefer to remove all the resources that consitute the cluster: VMs, storage, vNet and so on. Of course, all the data will be removed as well, so you are asked to type the resource group before deleting it.</p>
<p><img src="/images/151202b/20.png" alt=""></p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>We saw how to create a MapR cluster in Azure. You just have to enter a few parameters in friendly Web interfaces and wait for the cloud and MapR to create everything for you!</p>
<p>:-)<br>Benjamin (<a href="http://twitter.com/@benjguin" target="_blank" rel="external">@benjguin</a>)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://blog.3-4.fr/2015/12/02/mapr-on-azure/" data-id="ciqaupb9c0000b0cdvbwlc2sb" class="article-share-link">Partager</a>
      
        <a href="http://blog.3-4.fr/2015/12/02/mapr-on-azure/#disqus_thread" class="article-comment-link">Commentaires</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Azure/">Azure</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Big-Data/">Big Data</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Hadoop/">Hadoop</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2015/12/02/different-flavors-of-hadoop/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Ancien</strong>
      <div class="article-nav-title">Different Flavors of Hadoop &amp; Spark</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Azure/">Azure</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Big-Data/">Big Data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Data-Science/">Data Science</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hadoop/">Hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spark/">Spark</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/Azure/" style="font-size: 20px;">Azure</a> <a href="/tags/Big-Data/" style="font-size: 16.67px;">Big Data</a> <a href="/tags/Data-Science/" style="font-size: 13.33px;">Data Science</a> <a href="/tags/Hadoop/" style="font-size: 13.33px;">Hadoop</a> <a href="/tags/Spark/" style="font-size: 10px;">Spark</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/12/02/mapr-on-azure/">MapR on Azure</a>
          </li>
        
          <li>
            <a href="/2015/12/02/different-flavors-of-hadoop/">Different Flavors of Hadoop &amp; Spark</a>
          </li>
        
          <li>
            <a href="/2015/11/27/sqldw-azureml-jupyter-powerbi/">SQL DataWarehouse, Azure Machine Learning, Jupyter, Power BI</a>
          </li>
        
          <li>
            <a href="/2015/11/20/une-vm-datascience-dans-azure/">Une Machine Virtuelle Dans Azure Avec Des Outils De Data Science</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Benjamin Guinebertière<br>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'benjguin-blog34';
  
  var disqus_url = 'http://blog.3-4.fr/2015/12/02/mapr-on-azure/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>